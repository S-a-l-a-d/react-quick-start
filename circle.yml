# circle.yml

machine:
  environment:
    PATH: "${PATH}:${HOME}/${CIRCLE_PROJECT_REPONAME}/node_modules/.bin"
  node:
    version: node

dependencies:
  override:
    - yarn
  cache_directories:
    - ~/.cache/yarn

compile:
  override:
    - yarn build

test:
  override:
    - yarn test

deployment:
  push_to_server:
    branch: master
    commands:
      - rsync -avz build/ circleci@45.32.116.46:/usr/share/nginx/reactjs.blogcuaviet.com/html/
